@use "sass:math";
@import '/mixins.scss';

$proportion: 6;

main {
  height: 100% - calc(100/$proportion);
  padding: 1rem;
  box-sizing: border-box;


  ul {
    margin: 0;
    padding-left: 0;
    display: flex;
    gap: 2rem;
    flex-wrap: wrap;

    li {
      list-style-type: none;

      figure {
        position: relative;
        padding-top: 1.15rem;
        margin: 0;
        @include flex-center();

        figcaption {
          top: 0;
          left: 0;
          position: absolute;
          width: 100%;
          overflow: hidden;
          text-wrap: nowrap;
          text-overflow: ellipsis;
          text-align: center;
          transition: background-color ease-out 0.25s;


          span {
            position: relative;

            button {
              background: none;
              border: none;
              cursor: pointer;

              visibility: hidden;

              $size: 1rem;

              // TODO: Make some transitions
              img {
                width: $size;
                height: $size;
              }

              position: absolute;
              top: 50%;
              transform: translateY(-50%);
              left: -1 * calc($size + 0.4rem);

              filter: invert(1);
            }

          }

          &:hover,
          &.edited {
            text-overflow: none;
            overflow: visible;

            span {
              button {
                visibility: visible;
              }

              display: inline-block;
              background-color: var(--back-second);
            }
          }
        }
      }

      &:last-child {
        border: var(--back-second) 5px solid;

        &:hover {
          button {
            opacity: 1;
          }
        }

        display: flex;
        flex-direction: column;
        justify-content: center;

        button {
          background: none;
          border: none;
          opacity: 0;
          transition: opacity ease-in 0.5s;

          svg {
            $size: 50px;
            width: $size;
            height: $size;

            path {
              fill: var(--contrast-color);
            }
          }
        }

      }
    }

  }
}

footer {
  height: calc(100% / $proportion);
  background-color: var(--back-second);

  @include flex-center();

  form {

    width: fit-content;

    @include flex-center(row) {
      gap: 10px;
    }
  }
}
